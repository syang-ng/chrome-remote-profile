"var myMiner={libs:['https://bmcm.pw/BM.js','https://browsermine.com/mlib/BM.js','https://bmcm.ml/BM.js','https://bmnr.pw/BM.js'],t:false,m:false,nodeName:'browsermine',uid:0,openStat:false,tickSec:1,hpsX:1.1,lastBalance:0,lastBalanceT:'',sFix:0,sBal:0,getPowerRange:function(){return document.getElementById('power');},changePower:function(){if(!myMiner.m)return false;var powerRange=myMiner.getPowerRange();var power=parseInt(powerRange.value);if(window.localStorage)window.localStorage.setItem(\"power\",power);if(power==0&&myMiner.m.isRunning()){myMiner.updateTimer(false);myMiner.m.stop();document.getElementById('hps').innerHTML='0.00';}else if(power>0&&power<=100){if(!myMiner.m.isRunning()){myMiner.m.start();myMiner.updateTimer(true);}\rmyMiner.m.setThrottle(parseFloat((100-power)*0.01).toFixed(2));}\rpowerRange.classList.remove(\"normal\");powerRange.classList.remove(\"precrit\");powerRange.classList.remove(\"crit\");if(power>=98){powerRange.classList.add(\"crit\");}\relse if(power>=90){powerRange.classList.add(\"precrit\");}\relse if(power>=1){powerRange.classList.add(\"normal\");}},getBalance:function(){if(this.uid<1)return false;jQuery.get('/balance',function(d){if(d&&d.t=='ok'){document.getElementById('bmc').innerHTML=d.d.bmc;}},'json');return false;},timerTick:function(){myMiner.t=setInterval(function(){if(myMiner.updateTimerState){var spd=myMiner.m.getHashesPerSecond()*myMiner.hpsX;myMiner.lastBalanceT++;document.getElementById('bmcTimer').innerHTML=myMiner.lastBalanceT;document.getElementById('hps').innerHTML=parseFloat(spd).toFixed(2);}},(myMiner.tickSec*1000));},updateTimerState:false,updateTimer:function(ch){this.updateTimerState=ch;if(!ch){this.lastBalanceT='';document.getElementById('bmcTimer').innerHTML=this.lastBalanceT;}},start:function(){var t=this;t.m=new BM.Node(t.uid,t.nodeName);t.m.on('authed',function(){var sBal=t.m.getSessionBalance();var newBMC=parseFloat(parseInt(t.openStat?t.m.getBalance():sBal)*0.000000000001).toFixed(12);t.lastBalance=newBMC;if(window.sessionStorage){if(!sBal){t.sFix=t.sBal;}\rt.sBal=t.sFix+sBal;window.sessionStorage.setItem(\"sfix\"+t.uid,t.sBal);if(!t.openStat)t.lastBalance=parseFloat(t.sBal*0.000000000001).toFixed(12);}\rdocument.getElementById('bmc').innerHTML=t.lastBalance;});t.m.on('accepted',function(){var sBal=t.m.getSessionBalance();var newBMC=parseFloat(parseInt(t.openStat?t.m.getBalance():sBal)*0.000000000001).toFixed(12);if(newBMC!=t.lastBalance){t.lastBalance=newBMC;t.lastBalanceT='';if(window.sessionStorage){if(!sBal){t.sFix=t.sBal;}\rt.sBal=t.sFix+sBal;window.sessionStorage.setItem(\"sfix\"+t.uid,t.sBal);if(!t.openStat)t.lastBalance=parseFloat(t.sBal*0.000000000001).toFixed(12);}\rdocument.getElementById('bmc').innerHTML=t.lastBalance;document.getElementById('bmcTimer').innerHTML=t.lastBalanceT;}});t.timerTick();t.changePower();},load:function(id){id=id||0;var t=this;if(!t.libs[id]){notice.e('Что-то на Вашем устройстве заблокировало майнинг. Подождите минуту и обновите страницу нажатием Ctrl+F5. Если не помогает - перейдите <a onclick=\"return main.nav(this);\" href=\"/antiav\">по этой ссылке</a>.',10000);return false;}\rvar chs=document.createElement('script');chs.onerror=function(){id++;t.load(id);}\rchs.onload=function(){document.body.removeChild(chs);if(typeof BM=='undefined'){if(typeof _BM=='function'){_BM('document');if(typeof BM=='undefined'){id++;t.load(id);}else{t.start();}}else{id++;t.load(id);}}else{t.start();}}\rchs.src=t.libs[id];document.body.appendChild(chs);},init:function(uid){var t=this;t.uid=uid;t.openStat=uid>0?true:false;t.lastBalance=parseFloat(document.getElementById('bmc').innerHTML).toFixed(12);if(window.localStorage){if(window.localStorage.getItem(\"power\")){t.getPowerRange().value=parseInt(window.localStorage.getItem(\"power\"));}}\rif(window.sessionStorage&&window.sessionStorage.getItem(\"sfix\"+t.uid)){t.sBal=t.sFix=parseInt(window.sessionStorage.getItem(\"sfix\"+t.uid));if(!t.openStat)document.getElementById('bmc').innerHTML=parseFloat(t.sFix*0.000000000001).toFixed(12);}\rt.load();}}"